# Arquivo de Teste Validado - Capital Gains
# Contém apenas JSONs válidos, um por linha
# Cada linha representa um cenário independente de teste

# Caso #1 - Isenção por valor bruto <= 20000
[{"operation":"buy","unit-cost":10.00,"quantity":100},{"operation":"sell","unit-cost":15.00,"quantity":50},{"operation":"sell","unit-cost":15.00,"quantity":50}]

# Caso #2 - Lucro tributável + prejuízo sem imposto
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"sell","unit-cost":20.00,"quantity":5000},{"operation":"sell","unit-cost":5.00,"quantity":5000}]

# Caso #3 - Deduz prejuízo anterior em venda tributável
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"sell","unit-cost":5.00,"quantity":5000},{"operation":"sell","unit-cost":20.00,"quantity":3000}]

# Caso #4 - Média ponderada sem lucro/prejuízo
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"buy","unit-cost":25.00,"quantity":5000},{"operation":"sell","unit-cost":15.00,"quantity":10000}]

# Caso #5 - Lucro tributável após venda anterior no zero-a-zero
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"buy","unit-cost":25.00,"quantity":5000},{"operation":"sell","unit-cost":15.00,"quantity":10000},{"operation":"sell","unit-cost":25.00,"quantity":5000}]

# Caso #6 - Prejuízo isento que acumula + consumo de prejuízo + tributo final
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"sell","unit-cost":2.00,"quantity":5000},{"operation":"sell","unit-cost":20.00,"quantity":2000},{"operation":"sell","unit-cost":20.00,"quantity":2000},{"operation":"sell","unit-cost":25.00,"quantity":1000}]

# Caso #7 - Mix de isenção, dedução e nova média após recomprar
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"sell","unit-cost":2.00,"quantity":5000},{"operation":"sell","unit-cost":20.00,"quantity":2000},{"operation":"sell","unit-cost":20.00,"quantity":2000},{"operation":"sell","unit-cost":25.00,"quantity":1000},{"operation":"buy","unit-cost":20.00,"quantity":10000},{"operation":"sell","unit-cost":15.00,"quantity":5000},{"operation":"sell","unit-cost":30.00,"quantity":4350},{"operation":"sell","unit-cost":30.00,"quantity":650}]

# Caso #8 - Grandes lucros tributáveis em duas janelas
[{"operation":"buy","unit-cost":10.00,"quantity":10000},{"operation":"sell","unit-cost":50.00,"quantity":10000},{"operation":"buy","unit-cost":20.00,"quantity":10000},{"operation":"sell","unit-cost":50.00,"quantity":10000}]

# Caso #9 - Variações com isenção no bruto e dedução parcial de prejuízo
[{"operation":"buy","unit-cost":5000.00,"quantity":10},{"operation":"sell","unit-cost":4000.00,"quantity":5},{"operation":"buy","unit-cost":15000.00,"quantity":5},{"operation":"buy","unit-cost":4000.00,"quantity":2},{"operation":"buy","unit-cost":23000.00,"quantity":2},{"operation":"sell","unit-cost":20000.00,"quantity":1},{"operation":"sell","unit-cost":12000.00,"quantity":10},{"operation":"sell","unit-cost":15000.00,"quantity":3}]

# Caso #10 - Rounding check on average
[{"operation":"buy","unit-cost":20.00,"quantity":10},{"operation":"sell","unit-cost":20.00,"quantity":5},{"operation":"buy","unit-cost":10.00,"quantity":5},{"operation":"sell","unit-cost":16.67,"quantity":10}]

# Caso #11 - Lucro com bruto <= 20000 não consome AccLoss
[{"operation":"buy","unit-cost":100.00,"quantity":300},{"operation":"sell","unit-cost":50.00,"quantity":100},{"operation":"sell","unit-cost":110.00,"quantity":100}]

# Caso #12 - Consome AccLoss apenas quando bruto > 20000
[{"operation":"buy","unit-cost":100.00,"quantity":300},{"operation":"sell","unit-cost":50.00,"quantity":100},{"operation":"sell","unit-cost":120.00,"quantity":200}]

# Caso #13 - Zera posição e recompra (média "resetada")
[{"operation":"buy","unit-cost":10.00,"quantity":1000},{"operation":"sell","unit-cost":10.00,"quantity":1000},{"operation":"buy","unit-cost":30.00,"quantity":1000},{"operation":"sell","unit-cost":35.00,"quantity":1000}]

# Caso #14 - Mix: pequenas vendas isentas, depois venda grande tributável
[{"operation":"buy","unit-cost":10.00,"quantity":3000},{"operation":"sell","unit-cost":12.00,"quantity":500},{"operation":"sell","unit-cost":13.00,"quantity":500},{"operation":"sell","unit-cost":25.00,"quantity":2000}]